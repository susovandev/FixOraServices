<header class="bg-gray-50 border-b border-gray-200 px-6 py-4
               flex justify-between items-center">
  <!-- LEFT -->
  <h2 class="text-xl font-semibold text-slate-800 flex items-center gap-3">
    <span
      class="rounded-full bg-indigo-100/70 px-4 py-1
             text-sm font-semibold text-indigo-700 tracking-wide"
    >
      <%= admin?.username?.toUpperCase() || "ADMIN" %>
    </span>
    <span class="text-slate-700">
      <%= pageTitle %>
    </span>
  </h2>

  <!-- RIGHT -->
  <div class="flex items-center gap-5">

    <!-- â¬… Back Button -->
    <button
      id="backBtn"
      type="button"
      class="flex items-center gap-2 text-sm font-medium
             text-slate-600 bg-slate-100
             px-3 py-2 rounded-lg
             hover:bg-slate-200 hover:text-slate-900 transition"
    >
      <i class="fa-solid fa-arrow-left"></i>
      Back
    </button>

    <!-- ðŸ”” Notifications -->
    <div class="relative">
      <button
        id="notification-bell"
        type="button"
        class="relative p-2 rounded-full
               text-slate-600
               hover:bg-slate-100 hover:text-slate-900 transition"
      >
        <i class="fa-regular fa-bell text-lg"></i>

        <% if ((totalUnreadNotifications || 0)) { %>
          <span
            id="notification-badge"
            class="absolute -top-1 -right-1
                   bg-indigo-600 text-white
                   text-[10px] w-5 h-5
                   flex items-center justify-center
                   rounded-full font-semibold"
          >
            <%= totalUnreadNotifications %>
          </span>
        <% } %>
      </button>

      <!-- DROPDOWN -->
      <div
        id="notification-dropdown"
        class="hidden absolute right-0 mt-3 w-96
               bg-white border border-gray-200
               rounded-xl shadow-2xl z-50 overflow-hidden"
      >
        <!-- HEADER -->
        <div class="px-4 py-3 border-b border-gray-200
                    flex items-center justify-between">
          <h4 class="text-sm font-semibold text-slate-700">
            Notifications
          </h4>
          <span class="text-xs text-slate-500">
            <%= totalUnreadNotifications %> unread â€¢ <%= totalNotifications %> total
          </span>
        </div>

        <!-- LIST -->
        <div id="notification-list" class="max-h-[360px] overflow-y-auto">
          <% if (notifications?.length) { %>

            <% notifications.forEach(n => { %>
              <a
                href="#"
                data-id="<%= n._id %>"
                data-read="<%= n.isRead %>"
                class="
                  notification-item relative flex gap-3
                  px-4 py-3 border-b border-gray-100
                  text-sm transition
                  <%= n.isRead
                      ? 'hover:bg-gray-50'
                      : 'bg-indigo-50/70 hover:bg-indigo-100/60' %>
                "
              >
                <% if (!n.isRead) { %>
                  <span class="absolute left-0 top-0 h-full w-1 bg-indigo-600"></span>
                <% } %>

                <div class="mt-1 text-indigo-600 shrink-0">
                  <i class="fa-solid fa-circle-info"></i>
                </div>

                <div class="flex-1">
                  <p
                    class="
                      leading-relaxed
                      <%= n.isRead
                          ? 'text-slate-700'
                          : 'text-slate-900 font-medium' %>
                    "
                  >
                    <%= n.message %>
                  </p>

                  <span class="text-xs text-slate-400">
                    <%= new Date(n.createdAt).toLocaleString() %>
                  </span>
                </div>

                <% if (!n.isRead) { %>
                  <span class="mt-2 w-2 h-2 bg-indigo-600 rounded-full"></span>
                <% } %>
              </a>
            <% }) %>

            <% if (totalNotifications > notifications.length) { %>
              <a
                href="/admins/notifications"
                class="block px-4 py-3 text-center
                       text-sm font-semibold
                       text-indigo-600 hover:bg-indigo-50 transition"
              >
                Read more â†’
              </a>
            <% } %>

          <% } else { %>

            <div class="px-6 py-8 text-center text-sm text-slate-500">
              <i class="fa-regular fa-bell-slash text-2xl mb-2 text-slate-400"></i>
              <p>No new notifications</p>
            </div>

          <% } %>
        </div>
      </div>
    </div>

    <!-- ðŸšª Logout -->
    <form action="/admin/logout" method="GET">
      <button
        type="submit"
        class="flex items-center gap-2 text-sm font-semibold
               text-red-600 bg-red-50
               px-3 py-2 rounded-lg
               hover:bg-red-100 transition"
      >
        <i class="fa-solid fa-right-from-bracket"></i>
        Logout
      </button>
    </form>

  </div>
</header>
